export default function validateForm(){function v(e){return e&&null!==e.offsetParent}function f(e){return e&&0<e.value.trim().length}function h(e){e.classList.add("error")}function y(e){e.classList.remove("error")}function S(e){e.reset(),e.querySelectorAll(".error").forEach(e=>e.classList.remove("error"))}o=".form",(o=document.querySelectorAll(o))&&o.forEach(n=>{let c=n.querySelector('[name="name"]'),s=n.querySelector('[name="phone"]'),m=n.querySelector('[name="mail"]'),d=n.querySelector('[name="textarea"]'),u=n.querySelector(".custom-select__option[data-service]"),i=n.querySelector('[name="page_name"]'),p=n.querySelector(".custom-checkbox");document.querySelectorAll('[name="phone"]').forEach(e=>{new Inputmask("+38 (099) 999-99-99").mask(e)}),n.addEventListener("submit",r=>{r.preventDefault();var e,r=[];new FormData(n);if(f(c)&&(e=c,/^[a-zA-Zа-яА-Я'\- ]{2,50}$/.test(e.value.trim()))?y(c):(h(c),r.push("name")),f(s)&&(e=s,/^\+38 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(e.value.trim()))?y(s):(h(s),r.push("phone")),m&&v(m)&&(f(m)&&(t=m,/^([a-z0-9]+(?:[._-][a-z0-9]+)*)@([a-z0-9]+(?:[.-][a-z0-9]+)*\.[a-z]{2,})$/i.test(t.value.trim()))?y(m):(h(m),r.push("email"))),u&&v(u)&&(u.getAttribute("data-service")?y(u):(h(u),r.push("select"))),(p&&p.checked?y:(r.push("Поле соглашения не отмечено"),h))(p),!r.length){s.value,c.value,d?.value,m?.value,i?.value,u?.getAttribute("data-service");var t=`---------------------------
\r
Заявка прийшла з сторінки: ${i?.value||"Не вказано"}
\r
Ім'я користувача: ${c.value}
\r
Телефон користувача: ${s.value}
\r
Email: ${m?.value||"Не вказано"}
\r
Тип послуги: ${u?.getAttribute("data-service")||"Не вказано"}
\r
Повідомлення користувача: ${d?.value||"Не вказано"}
\r
---------------------------`;(async(e,t,r)=>{e=`https://api.telegram.org/bot${e}/sendMessage`,t={chat_id:t,text:r};try{var o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!o.ok)throw new Error("HTTP error: "+o.status)}catch(e){console.error("Ошибка отправки в Telegram:",e)}})("7688977543:AAHlh-ypLSRkSZpJUWofjINHqtlYt6ib4Kg","-1002489103555",t),S(n);{let e=document.querySelector(".modal_form");if(e){e.classList.add("modalActive"),document.querySelector(".modal_wrapper").style.display="none";{let t=document.createElement("div");var r=document.createElement("div"),o=document.createElement("button");function a(){t.remove(),e.classList.remove("modalActive"),e.classList.remove("modal_form-openWide"),e.classList.remove("modal_form-openNarrow"),document.removeEventListener("click",l)}function l(e){t.contains(e.target)||a()}t.className="thank-you-popup",t.id="thankYouPopupID",r.className="thank-you-message",o.className="thank-you-close",r.innerHTML=`
                    <h2>Дякуємо за заявку</h2>
                    <p>Ми з вами зв'яжемося найближчим часом</p>
                `,t.appendChild(r),t.appendChild(o),e.appendChild(t),o.addEventListener("click",a),document.addEventListener("click",l)}}}}})});let r=document.querySelector(".modal_form")||null,e=document.querySelector(".modal_wrapper")||null;if(r){var o=document.querySelectorAll(".btn_modalOpen"),a=document.querySelector(".modal_close");let t=document.querySelector(".modal_wrapper");document.querySelectorAll(".btn_modalIsOpen").forEach(e=>{e.addEventListener("click",()=>{r.classList.add("modal_form-openNarrow"),t.style.display="block"})}),o.forEach(e=>{e.addEventListener("click",()=>{r.classList.add("modal_form-openWide"),t.style.display="block"})}),a.addEventListener("click",()=>{r.classList.remove("modal_form-openWide"),r.classList.remove("modal_form-openNarrow"),document.querySelectorAll(".form").forEach(S)}),r.addEventListener("click",e=>{t.contains(e.target)||(r.classList.remove("modal_form-openWide"),r.classList.remove("modal_form-openNarrow"),document.querySelectorAll(".form").forEach(S))})}}