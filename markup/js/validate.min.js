export default function validateForm(){function i(e){return e&&null!==e.offsetParent}function p(e){return e&&0<e.value.trim().length}function v(e){e.classList.add("error")}function f(e){e.classList.remove("error")}function h(e){e.reset(),e.querySelectorAll(".error").forEach(e=>e.classList.remove("error"))}a=".form",(a=document.querySelectorAll(a))&&a.forEach(o=>{let l=o.querySelector('[name="name"]'),c=o.querySelector('[name="phone"]'),n=o.querySelector('[name="mail"]'),s=o.querySelector('[name="textarea"]'),m=o.querySelector(".custom-select__option[data-service]"),d=o.querySelector('[name="page_name"]'),u=o.querySelector(".custom-checkbox");document.querySelectorAll('[name="phone"]').forEach(e=>{new Inputmask("+38 (099) 999-99-99").mask(e)}),o.addEventListener("submit",r=>{r.preventDefault();var e,r=[];new FormData(o);if(p(l)&&(e=l,/^[a-zA-Zа-яА-Я'\- ]{2,50}$/.test(e.value.trim()))?f(l):(v(l),r.push("name")),p(c)&&(e=c,/^\+38 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(e.value.trim()))?f(c):(v(c),r.push("phone")),n&&i(n)&&(p(n)&&(t=n,/^([a-z0-9]+(?:[._-][a-z0-9]+)*)@([a-z0-9]+(?:[.-][a-z0-9]+)*\.[a-z]{2,})$/i.test(t.value.trim()))?f(n):(v(n),r.push("email"))),m&&i(m)&&(m.getAttribute("data-service")?f(m):(v(m),r.push("select"))),(u&&u.checked?f:(r.push("Поле соглашения не отмечено"),v))(u),!r.length){c.value,l.value,s?.value,n?.value,d?.value,m?.getAttribute("data-service");var t=`---------------------------
\r
Заявка прийшла з сторінки: ${d?.value||"Не вказано"}
\r
Ім'я користувача: ${l.value}
\r
Телефон користувача: ${c.value}
\r
Email: ${n?.value||"Не вказано"}
\r
Тип послуги: ${m?.getAttribute("data-service")||"Не вказано"}
\r
Повідомлення користувача: ${s?.value||"Не вказано"}
\r
---------------------------`;(async(e,t,r)=>{e=`https://api.telegram.org/bot${e}/sendMessage`,t={chat_id:t,text:r};try{var a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error("HTTP error: "+a.status)}catch(e){console.error("Ошибка отправки в Telegram:",e)}})("7688977543:AAHlh-ypLSRkSZpJUWofjINHqtlYt6ib4Kg","-1002489103555",t),h(o);{let t=document.querySelector(".modal_form");if(t){t.classList.add("modalActive"),document.querySelector(".modal_wrapper").style.display="none";{let e=document.createElement("div");var r=document.createElement("div"),a=document.createElement("button");e.className="thank-you-popup",r.className="thank-you-message",a.className="thank-you-close",r.innerHTML=`
                    <h2>Дякуємо за заявку</h2>
                    <p>Ми з вами зв'яжемося найближчим часом</p>
                `,e.appendChild(r),e.appendChild(a),t.appendChild(e),a.addEventListener("click",()=>{e.remove()}),setTimeout(()=>{e.remove(),t.classList.remove("modalActive"),t.classList.remove("modal_form-openWide"),t.classList.remove("modal_form-openNarrow")},5e3)}}}}})});let r=document.querySelector(".modal_form")||null,e=document.querySelector(".modal_wrapper")||null;if(r){var a=document.querySelectorAll(".btn_modalOpen"),o=document.querySelector(".modal_close");let t=document.querySelector(".modal_wrapper");document.querySelectorAll(".btn_modalIsOpen").forEach(e=>{e.addEventListener("click",()=>{r.classList.add("modal_form-openNarrow"),t.style.display="block"})}),a.forEach(e=>{e.addEventListener("click",()=>{r.classList.add("modal_form-openWide"),t.style.display="block"})}),o.addEventListener("click",()=>{r.classList.remove("modal_form-openWide"),r.classList.remove("modal_form-openNarrow"),document.querySelectorAll(".form").forEach(h)}),r.addEventListener("click",e=>{t.contains(e.target)||(r.classList.remove("modal_form-openWide"),r.classList.remove("modal_form-openNarrow"),document.querySelectorAll(".form").forEach(h))})}}