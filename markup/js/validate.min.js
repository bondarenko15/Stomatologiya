export default function validateForm(){function i(e){return e&&null!==e.offsetParent}function p(e){return e&&0<e.value.trim().length}function f(e){e.classList.add("error")}function h(e){e.classList.remove("error")}function y(e){e.reset(),e.querySelectorAll(".error").forEach(e=>e.classList.remove("error"))}e=".form",(e=document.querySelectorAll(e))&&e.forEach(a=>{let l=a.querySelector('[name="name"]'),n=a.querySelector('[name="phone"]'),c=a.querySelector('[name="mail"]'),s=a.querySelector('[name="textarea"]'),m=a.querySelector(".custom-select"),u=a.querySelector('[name="page_name"]'),d=a.querySelector(".custom-checkbox");document.querySelectorAll('[name="phone"]').forEach(e=>{new Inputmask("+38 (099) 999-99-99").mask(e)}),a.addEventListener("submit",e=>{e.preventDefault();var r,t,e=[],o=new FormData(a);p(l)&&(r=l,/^[a-zA-Zа-яА-Я'\- ]{2,50}$/.test(r.value.trim()))?h(l):(f(l),e.push("name")),p(n)&&(r=n,/^\+38 \(\d{3}\) \d{3}-\d{2}-\d{2}$/.test(r.value.trim()))?h(n):(f(n),e.push("phone")),c&&i(c)&&(p(c)&&(t=c,/^([a-z0-9]+(?:[._-][a-z0-9]+)*)@([a-z0-9]+(?:[.-][a-z0-9]+)*\.[a-z]{2,})$/i.test(t.value.trim()))?h(c):(f(c),e.push("email"))),m&&i(m)&&((t=m.getAttribute("data-value")||"")?(resetError(m),o.append("custom_select",t)):(e.push("Выберите значение из списка"),markError(m))),(d&&d.checked?h:(e.push("Поле соглашения не отмечено"),f))(d),e.length||((async(e,r,t)=>{e=`https://api.telegram.org/bot${e}/sendMessage`,r={chat_id:r,text:t};try{var o=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok)throw new Error("HTTP error: "+o.status)}catch(e){console.error("Ошибка отправки в Telegram:",e)}})("7688977543:AAHlh-ypLSRkSZpJUWofjINHqtlYt6ib4Kg","-1002489103555",`---------------------------
\r
Заявка прийшла з сторінки: ${u?.value||"Не вказано"}
\r
Ім'я користувача: ${l.value}
\r
Телефон користувача: ${n.value}
\r
Email: ${c?.value||"Не вказано"}
\r
Тип послуги: ${m?.getAttribute("data-value")||"Не вказано"}
\r
Повідомлення користувача: ${s?.value||"Не вказано"}
\r
---------------------------`),(async(e,r)=>(r=await fetch(r,{method:"POST",body:e})).json())(o,"/wp-admin/admin-ajax.php").then(e=>{var r;"SUCCESS"===e.status?(y(a),(r=document.querySelector(".modal_form"))&&(r.classList.add("isShow"),document.querySelector(".wrapper_form").style.display="none",document.querySelector(".modal_form .modal_thanks").style.display="block")):console.error(e.error)}).catch(e=>{console.error(e)}))})});let t=document.querySelector(".modal_form")||null;if(t){var e=document.querySelectorAll(".btn_modalOpen"),o=document.querySelector(".modal_close");let r=document.querySelector(".modal_wrapper");document.querySelectorAll(".btn_modalIsOpen").forEach(e=>{e.addEventListener("click",()=>{t.classList.add("modal_form-openNarrow")})}),e.forEach(e=>{e.addEventListener("click",()=>{t.classList.add("modal_form-openWide")})}),o.addEventListener("click",()=>{t.classList.remove("modal_form-openWide"),t.classList.remove("modal_form-openNarrow"),document.querySelectorAll(".form").forEach(y)}),t.addEventListener("click",e=>{r.contains(e.target)||(t.classList.remove("modal_form-openWide"),t.classList.remove("modal_form-openNarrow"),document.querySelectorAll(".form").forEach(y))})}}